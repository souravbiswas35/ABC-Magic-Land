/* ═══════════════════════════════════════════════════════
   style.css — Professional Baby-Friendly ABC Magic Land
   ═══════════════════════════════════════════════════════ */

/* ── Google Fonts ─────────────────────────────────── */
@import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600;700&family=Nunito:wght@400;600;700;800;900&family=Hind+Siliguri:wght@400;500;600;700&display=swap');

/* ── Design tokens ────────────────────────────────── */
:root {
  /* Palette */
  --pink:    #FF6B9D;
  --peach:   #FFB347;
  --teal:    #4ECDC4;
  --sky:     #45B7D1;
  --lime:    #A8E063;
  --yellow:  #F7DC6F;
  --purple:  #A18CD1;
  --green:   #43E97B;
  --mint:    #22C98A;
  --coral:   #F05C6E;
  --amber:   #F5A623;
  --blue:    #1E6FD9;
  --navy:    #0F1F3D;

  /* Surfaces — Light mode */
  --bg:       #F2F8FF;
  --surface:  #FFFFFF;
  --surface2: #F7FBFF;
  --border:   #D8ECF8;

  /* Text — Light mode */
  --t1: #0F1F3D;
  --t2: #3A5880;
  --t3: #7A9EC0;

  /* Spacing */
  --r1:  12px;
  --r2:  20px;
  --r3:  28px;
  --r4:  40px;

  /* Shadows */
  --s1: 0 3px 12px rgba(15,31,61,.09);
  --s2: 0 8px 30px rgba(15,31,61,.13);
  --s3: 0 18px 56px rgba(15,31,61,.18);

  /* Font families */
  --ff-display: 'Fredoka', 'Nunito', cursive;
  --ff-body:    'Nunito', sans-serif;
  --ff-bangla:  'Hind Siliguri', sans-serif;
}

/* ══════════════════════════════════
   DARK MODE — body.dark
══════════════════════════════════ */
body.dark {
  --bg:       #0D0F1A;
  --surface:  #161928;
  --surface2: #1E2235;
  --border:   #2A2F4A;
  --t1:       #EEF2FF;
  --t2:       #9BA8CC;
  --t3:       #5A6490;
  --navy:     #7C8FD4;
  --s1: 0 3px 12px rgba(0,0,0,.35);
  --s2: 0 8px 30px rgba(0,0,0,.45);
  --s3: 0 18px 56px rgba(0,0,0,.55);
}

/* Dark mode specific overrides */
body.dark .header       { background: linear-gradient(160deg, #0a0c18 0%, #12183a 50%, #0d1525 100%); }
body.dark .fc-front     { background: linear-gradient(145deg, #0a0520, #1a0a40, #0d1535); }
body.dark .q-opt        { background: var(--surface2); }
body.dark .word-chip    { background: var(--surface2); border-color: var(--border); }
body.dark .wc-en        { color: var(--t1); }
body.dark .modal        { background: var(--surface); }
body.dark .a-card       { background: var(--surface); }
body.dark .card         { background: var(--surface); }
body.dark .draw-wrap    { background: var(--surface); }
body.dark #cvs          { background: #1a1d2e; }
body.dark .v-btn        { background: var(--surface2); color: var(--t2); }
body.dark .v-btn.on     { background: var(--navy); color: #fff; }
body.dark .tab          { background: var(--surface); border-color: var(--border); color: var(--t2); }
body.dark .tab.on       { background: var(--navy); color: #fff; border-color: var(--navy); }
body.dark .arr          { background: var(--surface2); color: var(--t2); }
body.dark .m-item       { background: var(--surface2); border-color: var(--border); }
body.dark .m-item:hover { background: var(--surface); }
body.dark .type-input   { background: var(--surface2); color: var(--t1); border-color: var(--border); }
body.dark .r-card       { background: var(--surface2); }

/* Dark mode toggle button */
.theme-toggle {
  position: fixed;
  top: 14px; right: 14px;
  z-index: 1000;
  width: 44px; height: 44px;
  border-radius: 50%;
  border: 2px solid var(--border);
  background: var(--surface);
  font-size: 1.3rem;
  cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  box-shadow: var(--s2);
  transition: all .3s cubic-bezier(.34,1.56,.64,1);
  -webkit-tap-highlight-color: transparent;
}
.theme-toggle:hover { transform: scale(1.15) rotate(20deg); box-shadow: var(--s3); }


/* ── Reset ─────────────────────────────────────────── */
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0; padding: 0;
}
html {
  -webkit-text-size-adjust: 100%;
  scroll-behavior: smooth;
}
body {
  font-family: var(--ff-body);
  background: var(--bg);
  min-height: 100vh;
  overflow-x: hidden;
  color: var(--t1);
  padding-bottom: 1rem;
  /* Subtle dot grid */
  background-image: radial-gradient(circle, rgba(30,111,217,.05) 1px, transparent 1px);
  background-size: 28px 28px;
}

/* ── Animated mesh background ──────────────────────── */
.bg-mesh {
  position: fixed; inset: 0; z-index: 0;
  pointer-events: none; overflow: hidden;
}
.blob {
  position: absolute; border-radius: 50%; opacity: .06;
  animation: bgBlob ease-in-out infinite;
  filter: blur(1px);
}

/* ── App wrapper ───────────────────────────────────── */
.app {
  position: relative; z-index: 1;
  max-width: 920px; margin: 0 auto;
  padding: 0 .9rem 2rem;
}

/* ════════════════════════════════════
   HEADER
════════════════════════════════════ */
.header {
  text-align: center;
  padding: clamp(1rem, 4vw, 2rem) .5rem .6rem;
}

/* Animated rainbow logo */
.logo {
  display: inline-flex; align-items: center; gap: .5rem;
  background: var(--navy); border-radius: 50px;
  padding: .35rem 1.3rem .35rem .9rem;
  box-shadow: 0 6px 24px rgba(15,31,61,.3), 0 0 0 1px rgba(255,255,255,.07);
  margin-bottom: .7rem;
  animation: slideUp .6s ease;
}
.logo-emoji { font-size: 1.4rem; animation: floatSway 3s ease infinite; }
.logo-text {
  font-family: var(--ff-display); font-weight: 700;
  font-size: clamp(.9rem, 3vw, 1.2rem);
  background: linear-gradient(90deg, #FFB347, #FF6B9D, #A18CD1, #4ECDC4, #A8E063);
  background-size: 300% auto;
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: shimmerSlide 4s linear infinite;
}

.header-title {
  font-family: var(--ff-display); font-weight: 700;
  font-size: clamp(2.2rem, 9vw, 4.5rem);
  line-height: 1.05;
  background: linear-gradient(135deg, #FF6B9D 0%, #FFB347 25%, #4ECDC4 55%, #A18CD1 80%, #FF6B9D 100%);
  background-size: 200% auto;
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: shimmerSlide 5s linear infinite;
  letter-spacing: -.01em;
  margin-bottom: .2rem;
}

.header-sub {
  font-size: clamp(.75rem, 2.5vw, .9rem);
  font-weight: 800; color: var(--t3);
  letter-spacing: .12em; text-transform: uppercase;
  margin-bottom: .8rem;
}

/* ── Language toggle ────────────────────────────── */
.lang-row {
  display: flex; align-items: center; justify-content: center;
  gap: .4rem; margin-bottom: .6rem;
}
/* bn-toggle-btn styles are injected by animations.js injectKeyframes() */

/* ── Voice selector ─────────────────────────────── */
.voice-row {
  display: inline-flex; align-items: center; gap: .3rem;
  background: var(--surface); border-radius: 50px;
  padding: .25rem .35rem;
  border: 2px solid var(--border); box-shadow: var(--s1);
  flex-wrap: wrap; justify-content: center;
}
.v-label {
  font-size: .68rem; font-weight: 900; color: var(--t3);
  text-transform: uppercase; letter-spacing: .1em; padding: 0 .3rem;
}
.v-btn {
  display: flex; align-items: center; gap: .25rem;
  padding: .28rem .75rem; border-radius: 50px;
  border: none; background: transparent;
  font-family: var(--ff-body); font-size: .78rem; font-weight: 800;
  color: var(--t2); cursor: pointer;
  transition: all .22s; -webkit-tap-highlight-color: transparent;
  white-space: nowrap;
}
.v-btn:hover { background: var(--surface2); color: var(--blue); }
.v-btn.on {
  background: var(--navy); color: #fff;
  box-shadow: 0 3px 10px rgba(15,31,61,.22);
}

/* ════════════════════════════════════
   NAVIGATION TABS
════════════════════════════════════ */
.nav {
  display: flex; justify-content: center;
  gap: .35rem; flex-wrap: nowrap;
  padding: .5rem .8rem .9rem;
  overflow-x: auto; overflow-y: hidden;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
}
.tab {
  display: flex; align-items: center; gap: .28rem;
  padding: .48rem 1rem; border-radius: 50px;
  border: 2px solid var(--border); background: var(--surface);
  font-family: var(--ff-display); font-size: .88rem; font-weight: 600;
  color: var(--t2); cursor: pointer; user-select: none;
  transition: all .26s cubic-bezier(.34,1.56,.64,1);
  box-shadow: var(--s1); -webkit-tap-highlight-color: transparent;
  white-space: nowrap;
}
.tab .ti { font-size: .95rem; }
.tab:hover {
  border-color: var(--pink); color: var(--pink);
  transform: translateY(-3px); box-shadow: var(--s2);
}
.tab.on {
  background: var(--navy); color: #fff; border-color: var(--navy);
  box-shadow: 0 6px 22px rgba(15,31,61,.28);
  transform: translateY(-2px);
}

/* ════════════════════════════════════
   SECTION TRANSITIONS
════════════════════════════════════ */
.sec { display: none; }
.sec.on { display: block; animation: slideUp .35s ease; }

.sec-title {
  font-family: var(--ff-display); font-size: clamp(1.1rem, 4vw, 1.4rem);
  font-weight: 600; color: var(--t1);
  text-align: center; margin-bottom: 1rem;
}
.sec-title .hi { color: var(--pink); }

/* ════════════════════════════════════
   ALPHABET GRID
════════════════════════════════════ */
.a-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(88px, 1fr));
  gap: .65rem;
}

.a-card {
  --c1: #FF6B9D; --c2: #FFB347;
  position: relative; background: var(--surface);
  border-radius: var(--r3); padding: 1rem .4rem .85rem;
  text-align: center; cursor: pointer;
  border: 2px solid var(--border);
  transition: transform .28s cubic-bezier(.34,1.56,.64,1),
              box-shadow .28s, border-color .25s;
  box-shadow: var(--s1); overflow: hidden;
  user-select: none; -webkit-tap-highlight-color: transparent;
  animation: cardEntrance .4s ease both;
}
/* Stagger card animations */
.a-card:nth-child(n) { animation-delay: calc(var(--i, 0) * 0.035s); }

.a-card::before {
  content: ''; position: absolute; inset: 0;
  background: linear-gradient(135deg, var(--c1), var(--c2));
  opacity: 0; transition: opacity .28s; border-radius: inherit;
}
.a-card:hover {
  transform: translateY(-8px) scale(1.06);
  box-shadow: var(--s3); border-color: transparent;
}
.a-card:hover::before { opacity: .07; }
.a-card:active { transform: scale(.91); }

/* Learned badge */
.a-card .lbg {
  position: absolute; top: 6px; right: 7px;
  width: 13px; height: 13px; border-radius: 50%;
  background: var(--mint); display: none; z-index: 2;
  box-shadow: 0 0 0 2.5px rgba(34,201,138,.25);
  animation: bounceIn .4s cubic-bezier(.34,1.56,.64,1);
}
.a-card.done .lbg { display: block; }

.a-up {
  font-family: var(--ff-display); font-weight: 700;
  font-size: clamp(2rem, 6vw, 2.8rem); line-height: 1;
  background: linear-gradient(145deg, var(--c1), var(--c2));
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: drop-shadow(0 2px 5px rgba(0,0,0,.1));
  transition: transform .25s cubic-bezier(.34,1.56,.64,1);
}
.a-card:hover .a-up { transform: scale(1.12); }

.a-lo {
  font-family: var(--ff-display); font-size: clamp(.9rem, 3vw, 1.15rem);
  font-weight: 500; color: var(--t3);
}
.a-em {
  font-size: clamp(1.1rem, 3.5vw, 1.4rem); display: block; margin-top: 3px;
  transition: transform .28s cubic-bezier(.34,1.56,.64,1);
}
.a-card:hover .a-em { transform: scale(1.4) rotate(-8deg); }

/* ════════════════════════════════════
   MODAL
════════════════════════════════════ */
.overlay {
  position: fixed; inset: 0; z-index: 800;
  background: rgba(8,18,40,.72);
  backdrop-filter: blur(14px) saturate(1.6);
  display: none; align-items: center; justify-content: center;
  padding: 1rem;
}
.overlay.on { display: flex; }

.modal {
  background: var(--surface); border-radius: var(--r4);
  padding: 2.4rem 2rem 2rem; max-width: 460px; width: 100%;
  position: relative;
  animation: letterBounceIn .45s cubic-bezier(.34,1.56,.64,1);
  box-shadow: var(--s3), 0 0 0 1px rgba(255,255,255,.1);
  max-height: 90vh; overflow-y: auto; text-align: center;
}
.m-close {
  position: absolute; top: 1rem; right: 1rem;
  width: 34px; height: 34px; border-radius: 50%;
  border: 2px solid var(--border); background: var(--surface2);
  font-size: .9rem; cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  transition: all .2s; z-index: 2;
}
.m-close:hover {
  background: #fee2e2; border-color: #fca5a5;
  transform: rotate(90deg) scale(1.1);
}

/* Big hero letter */
.m-hero {
  font-family: var(--ff-display); font-weight: 700;
  font-size: clamp(7rem, 22vw, 9.5rem); line-height: 1;
  display: inline-block; cursor: pointer;
  filter: drop-shadow(0 6px 20px rgba(0,0,0,.13));
  transition: transform .25s cubic-bezier(.34,1.56,.64,1);
  animation: letterBounceIn .6s cubic-bezier(.34,1.56,.64,1);
}
.m-hero:hover { transform: scale(1.12) rotate(-5deg); }
.m-hero.glow { animation: speakPulse .55s ease infinite alternate; }

.m-cases {
  font-family: var(--ff-display); font-weight: 500;
  font-size: clamp(1.6rem, 5vw, 2.2rem); color: var(--t3);
  margin: .1rem 0 .4rem;
}
.m-phon {
  display: inline-flex; align-items: center; gap: .3rem;
  background: var(--surface2); border: 2px solid var(--border);
  border-radius: 50px; padding: .22rem 1rem;
  font-size: clamp(.88rem, 3vw, 1rem); font-weight: 800; color: var(--purple);
  margin-bottom: .7rem;
}

/* Speak button */
.speak-btn {
  display: inline-flex; align-items: center; gap: .4rem;
  padding: .6rem 1.8rem;
  background: var(--navy); color: #fff; border: none; border-radius: 50px;
  font-family: var(--ff-display); font-size: clamp(.9rem, 3vw, 1.05rem); font-weight: 600;
  cursor: pointer; margin: .2rem .25rem .9rem;
  transition: all .25s cubic-bezier(.34,1.56,.64,1);
  box-shadow: 0 5px 18px rgba(15,31,61,.25);
  -webkit-tap-highlight-color: transparent;
}
.speak-btn:hover { transform: scale(1.07); box-shadow: 0 9px 28px rgba(15,31,61,.35); }
.speak-btn:active { transform: scale(.93); }
.speak-btn.on { background: linear-gradient(135deg, #4ECDC4, #43E97B); }

/* Sound wave */
.swave { display: none; align-items: center; gap: 2.5px; height: 18px; }
.swave.on { display: flex; }
.swave i {
  display: block; width: 3px; background: #fff; border-radius: 3px;
  animation: sw .65s ease-in-out infinite;
}
.swave i:nth-child(1) { height:5px;  animation-delay:.0s; }
.swave i:nth-child(2) { height:12px; animation-delay:.1s; }
.swave i:nth-child(3) { height:8px;  animation-delay:.2s; }
.swave i:nth-child(4) { height:15px; animation-delay:.3s; }
.swave i:nth-child(5) { height:6px;  animation-delay:.4s; }
@keyframes sw { 0%,100%{transform:scaleY(.3)} 50%{transform:scaleY(1)} }

/* ── Word chips with BIG text + Bangla ─────────── */
.wlabel {
  font-size: .72rem; font-weight: 900; color: var(--t3);
  text-transform: uppercase; letter-spacing: .12em; margin: .3rem 0 .5rem;
}
.word-chips { display: flex; flex-wrap: wrap; justify-content: center; gap: .5rem; margin-bottom: .9rem; }

.word-chip {
  display: flex; flex-direction: column; align-items: center;
  gap: .15rem; padding: .55rem .9rem;
  border-radius: var(--r2); background: var(--surface2);
  border: 2px solid var(--border); cursor: pointer;
  transition: all .24s cubic-bezier(.34,1.56,.64,1);
  min-width: 80px;
}
.word-chip:hover {
  border-color: var(--pink); background: #fff5f8;
  transform: translateY(-4px) scale(1.07);
  box-shadow: 0 6px 18px rgba(255,107,157,.2);
}
.word-chip:active { transform: scale(.93); }

.wc-emoji { font-size: 2rem; display: block; transition: transform .25s cubic-bezier(.34,1.56,.64,1); }
.word-chip:hover .wc-emoji { transform: scale(1.3) rotate(-8deg); }

.wc-en {
  font-family: var(--ff-display); font-weight: 700;
  font-size: clamp(.95rem, 3vw, 1.1rem); color: var(--t1);
}
.wc-bn {
  font-family: var(--ff-bangla); font-size: clamp(.78rem, 2.5vw, .9rem);
  font-weight: 600; color: var(--t2);
}

/* Fun fact */
.m-fact {
  background: linear-gradient(135deg, #FFFBF0, #FFF5F8);
  border: 2px dashed var(--amber); border-radius: var(--r2);
  padding: .7rem 1rem; font-size: clamp(.78rem, 2.5vw, .88rem);
  font-weight: 700; color: #7A5000; text-align: left; line-height: 1.55;
  margin-top: .3rem;
}
.m-fact-bn {
  font-family: var(--ff-bangla); font-size: clamp(.75rem, 2.5vw, .85rem);
  color: #7A5000; display: block; margin-top: .2rem;
}

/* ════════════════════════════════════
   SHARED CARD CONTAINERS
════════════════════════════════════ */
.card {
  background: var(--surface); border-radius: var(--r4);
  padding: 1.6rem; box-shadow: var(--s2);
  border: 2px solid var(--border);
}
.card-center { max-width: 600px; margin: 0 auto; }
.card-sm     { max-width: 480px; margin: 0 auto; }

/* Letter navigator */
.lnav {
  display: flex; align-items: center; justify-content: center;
  gap: .9rem; margin-bottom: 1.1rem;
}
.arr {
  width: 46px; height: 46px; border-radius: 50%;
  border: 2px solid var(--border); background: var(--surface2);
  font-size: 1.15rem; cursor: pointer; font-weight: 900; color: var(--t2);
  display: flex; align-items: center; justify-content: center;
  transition: all .22s cubic-bezier(.34,1.56,.64,1);
  user-select: none; -webkit-tap-highlight-color: transparent;
}
.arr:hover { background: var(--navy); color: #fff; border-color: var(--navy); transform: scale(1.12); }
.arr:active { transform: scale(.88); }

.lnav-info { text-align: center; min-width: 130px; }
.lnav-big {
  font-family: var(--ff-display); font-weight: 700;
  font-size: clamp(1.8rem, 6vw, 2.3rem); line-height: 1; display: block;
  background: linear-gradient(135deg, var(--pink), var(--purple));
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  background-clip: text;
}
.lnav-count { font-size: .72rem; font-weight: 800; color: var(--t3); text-transform: uppercase; letter-spacing: .1em; }

/* ════════════════════════════════════
   BUTTONS
════════════════════════════════════ */
.btn-row { display: flex; gap: .5rem; flex-wrap: wrap; margin-top: .9rem; }
.btn {
  flex: 1; min-width: 90px;
  display: flex; align-items: center; justify-content: center; gap: .3rem;
  padding: .68rem .9rem; border-radius: 50px; border: none;
  font-family: var(--ff-display); font-size: clamp(.85rem, 3vw, .95rem); font-weight: 600;
  cursor: pointer; transition: all .24s cubic-bezier(.34,1.56,.64,1);
  user-select: none; -webkit-tap-highlight-color: transparent;
  letter-spacing: .02em;
}
.btn:active { transform: scale(.91); }

.btn-navy  { background:var(--navy);  color:#fff; box-shadow:0 4px 14px rgba(15,31,61,.25); }
.btn-navy:hover  { transform:translateY(-2px); box-shadow:0 8px 22px rgba(15,31,61,.35); }
.btn-pink  { background:var(--pink);  color:#fff; box-shadow:0 4px 14px rgba(255,107,157,.3); }
.btn-pink:hover  { transform:translateY(-2px); box-shadow:0 8px 22px rgba(255,107,157,.4); }
.btn-teal  { background:var(--teal);  color:#fff; box-shadow:0 4px 14px rgba(78,205,196,.3); }
.btn-teal:hover  { transform:translateY(-2px); box-shadow:0 8px 22px rgba(78,205,196,.4); }
.btn-green { background:var(--green); color:#fff; box-shadow:0 4px 14px rgba(67,233,123,.3); }
.btn-green:hover { transform:translateY(-2px); box-shadow:0 8px 22px rgba(67,233,123,.4); }
.btn-amber { background:var(--amber); color:#fff; box-shadow:0 4px 14px rgba(245,166,35,.3); }
.btn-amber:hover { transform:translateY(-2px); box-shadow:0 8px 22px rgba(245,166,35,.4); }
.btn-ghost { background:var(--surface2); color:var(--t2); border:2px solid var(--border); }
.btn-ghost:hover { border-color:var(--pink); color:var(--pink); transform:translateY(-2px); }

/* ════════════════════════════════════
   FLASHCARD
════════════════════════════════════ */
.fc-scene {
  perspective: 1000px; height: 260px; cursor: pointer;
  -webkit-tap-highlight-color: transparent; margin-bottom: 1rem;
}
.fc-inner {
  position: relative; width: 100%; height: 100%;
  transform-style: preserve-3d;
  -webkit-transform-style: preserve-3d;
  transition: transform .65s cubic-bezier(.4,0,.2,1);
  /* NO filter here — filter breaks preserve-3d in Chrome/Safari */
}
.fc-scene.flipped .fc-inner { transform: rotateY(180deg); }
.fc-face {
  position: absolute; inset: 0;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  border-radius: var(--r4);
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  padding: 1.4rem;
  box-shadow: 0 14px 40px rgba(0,0,0,.22);
}
.fc-front {
  background: linear-gradient(145deg, #0F1F3D, #1a3060);
  border: 2px solid rgba(255,255,255,.07);
}
/* Back — solid dark so text is ALWAYS visible regardless of letter color */
.fc-back {
  transform: rotateY(180deg);
  -webkit-transform: rotateY(180deg);
  background: linear-gradient(145deg, #1a0535, #0d1f50);
  border: 3px solid rgba(255,255,255,.12);
}

.fc-L {
  font-family: var(--ff-display); font-weight: 700;
  font-size: clamp(6rem, 20vw, 8rem); line-height: 1; color: #fff;
  animation: floatSway 4s ease-in-out infinite;
}
.fc-lo { font-family: var(--ff-display); font-size: 1.4rem; font-weight: 500; color: rgba(255,255,255,.5); }
.fc-hint {
  font-size: .8rem; font-weight: 700;
  color: rgba(255,255,255,.6); margin-top: .5rem;
  letter-spacing: .06em; text-transform: uppercase;
  animation: hintPulse 1.8s ease-in-out infinite;
}
@keyframes hintPulse { 0%,100%{opacity:.5} 50%{opacity:1} }

/* Back face content — BIG emoji + word, always on dark bg */
.fc-emoji {
  font-size: clamp(3.5rem, 12vw, 5rem);
  margin-bottom: .35rem;
  animation: floatSway 3s ease-in-out infinite;
  display: block; line-height: 1;
}
.fc-word {
  font-family: var(--ff-display); font-weight: 700;
  font-size: clamp(2rem, 7vw, 2.8rem);
  color: #ffffff;
  text-shadow: 0 2px 16px rgba(0,0,0,.5);
  margin-bottom: .15rem;
  display: block;
}
.fc-word-bn {
  font-family: var(--ff-bangla); font-size: clamp(1.1rem, 4vw, 1.5rem);
  font-weight: 600; color: rgba(255,255,255,.85);
  display: block;
}
.fc-phon { font-size: .82rem; font-weight: 700; color: rgba(255,255,255,.6); margin-top: .4rem; }

.fc-nav { display: flex; justify-content: center; align-items: center; gap: 1rem; }
.fc-count { font-size: .8rem; font-weight: 800; color: var(--t3); min-width: 65px; text-align: center; }

/* ════════════════════════════════════
   DRAW SECTION
════════════════════════════════════ */
.draw-header {
  display: flex; align-items: center; gap: .7rem;
  background: var(--surface2); border-radius: var(--r2);
  padding: .75rem 1.2rem; border: 2px solid var(--border);
  margin-bottom: .75rem; flex-wrap: wrap;
}
.draw-letter-preview {
  font-family: var(--ff-display); font-weight: 700;
  font-size: 2.8rem; line-height: 1; flex-shrink: 0;
}
.draw-info { flex: 1; }
.draw-info-label { font-size: .68rem; font-weight: 900; color: var(--t3); text-transform: uppercase; letter-spacing: .1em; display: block; }
.draw-info-word { font-family: var(--ff-display); font-size: 1rem; font-weight: 600; color: var(--t2); }
.draw-info-word-bn { font-family: var(--ff-bangla); font-size: .82rem; font-weight: 600; color: var(--t3); }

/* Toolbar */
.draw-bar {
  display: flex; align-items: center; gap: .55rem; flex-wrap: wrap;
  background: var(--surface2); border-radius: 50px;
  padding: .4rem .7rem; border: 2px solid var(--border);
  margin-bottom: .7rem;
}
.bar-sep { width: 1.5px; height: 22px; background: var(--border); border-radius: 2px; flex-shrink: 0; }
.bar-lbl { font-size: .65rem; font-weight: 900; color: var(--t3); text-transform: uppercase; letter-spacing: .1em; white-space: nowrap; }

.cswatch {
  width: 26px; height: 26px; border-radius: 50%; cursor: pointer;
  border: 2.5px solid transparent; transition: all .18s;
  -webkit-tap-highlight-color: transparent; flex-shrink: 0;
}
.cswatch:hover { transform: scale(1.25); }
.cswatch.on { border-color: var(--navy); transform: scale(1.28); box-shadow: 0 0 0 2px rgba(15,31,61,.15); }

.bdot {
  border-radius: 50%; background: var(--navy); cursor: pointer;
  border: 2px solid rgba(255,255,255,.5);
  transition: all .18s; opacity: .45; flex-shrink: 0;
  -webkit-tap-highlight-color: transparent;
}
.bdot:hover { opacity: .85; transform: scale(1.2); }
.bdot.on { opacity: 1; transform: scale(1.15); box-shadow: 0 0 0 2.5px rgba(15,31,61,.2); }

/* Canvas */
.canvas-wrap {
  position: relative; border-radius: var(--r3); overflow: hidden;
  background: linear-gradient(145deg, #F6FBFF, #EEF7FF);
  border: 2px solid var(--border); margin: .6rem 0;
  cursor: crosshair; touch-action: none;
  box-shadow: inset 0 2px 10px rgba(15,31,61,.06);
}
/* Lined-paper inner pattern */
.canvas-wrap::after {
  content: ''; position: absolute; inset: 0; pointer-events: none; z-index: 0;
  background-image:
    linear-gradient(rgba(30,111,217,.04) 1px, transparent 1px),
    linear-gradient(90deg, rgba(30,111,217,.04) 1px, transparent 1px);
  background-size: 30px 30px;
}
#cvs { display: block; width: 100%; touch-action: none; position: relative; z-index: 1; }

.ghost {
  position: absolute; inset: 0; z-index: 0;
  display: flex; align-items: center; justify-content: center;
  font-family: var(--ff-display); font-weight: 700;
  font-size: clamp(7rem, 22vw, 11rem);
  color: rgba(30,111,217,.07); pointer-events: none; user-select: none; line-height: 1;
  transition: color .5s;
}
.canvas-wrap.inked .ghost { color: rgba(30,111,217,.04); }

.draw-enc {
  text-align: center; padding: .5rem; min-height: 30px;
  font-family: var(--ff-display); font-size: clamp(.9rem, 3vw, 1.05rem);
  font-weight: 600; color: var(--t3); transition: all .4s;
}

/* ════════════════════════════════════
   TYPE SECTION
════════════════════════════════════ */
.type-target {
  font-family: var(--ff-display); font-weight: 700;
  font-size: clamp(5rem, 18vw, 7.5rem); line-height: 1;
  text-align: center; display: block; margin: .3rem 0 .15rem;
  filter: drop-shadow(0 4px 14px rgba(255,107,157,.18));
}
.type-subtitle {
  font-size: clamp(.75rem, 2.5vw, .85rem); font-weight: 800;
  color: var(--t3); text-transform: uppercase; letter-spacing: .1em;
  text-align: center; margin-bottom: .5rem;
}
.type-hint {
  display: inline-flex; align-items: center; gap: .4rem;
  background: var(--surface2); border: 2px solid var(--border);
  border-radius: 50px; padding: .3rem .95rem;
  font-family: var(--ff-display); font-size: clamp(.9rem, 3vw, 1rem);
  font-weight: 600; color: var(--t2); margin-bottom: .75rem;
}
.type-hint .th-bn { font-family: var(--ff-bangla); font-size: .85rem; color: var(--t3); }

.char-row { display: flex; justify-content: center; gap: .4rem; min-height: 30px; flex-wrap: wrap; margin: .4rem 0; }
.ch {
  width: 28px; height: 28px; border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  font-family: var(--ff-display); font-size: .75rem; font-weight: 700;
  transition: all .28s cubic-bezier(.34,1.56,.64,1);
}
.ch.idle { background: var(--surface2); border: 2px solid var(--border); color: var(--t3); }
.ch.hit  { background: var(--mint); color: #fff; border: 2px solid var(--mint); transform: scale(1.22); box-shadow: 0 3px 10px rgba(34,201,138,.3); }
.ch.miss { background: var(--coral); color: #fff; border: 2px solid var(--coral); }

.type-input {
  width: 100%; font-family: var(--ff-display); font-weight: 600;
  font-size: max(16px, clamp(1.8rem, 7vw, 2.4rem));
  text-align: center; border: 2.5px solid var(--border);
  border-radius: var(--r3); padding: .85rem 1rem;
  background: var(--surface2); color: var(--t1);
  outline: none; transition: all .28s; letter-spacing: 7px;
  -webkit-tap-highlight-color: transparent; margin: .2rem 0;
}
.type-input:focus { border-color: var(--pink); box-shadow: 0 0 0 5px rgba(255,107,157,.12); background: #fff; }
.type-input.ok    { border-color: var(--mint); background: #EDFAF4; box-shadow: 0 0 0 5px rgba(34,201,138,.12); }
.type-input.bad   { border-color: var(--coral); background: #FFF0F2; animation: wiggleAnim .4s ease; }
@keyframes wiggleAnim { 0%,100%{transform:translateX(0)} 20%{transform:translateX(-9px)} 40%{transform:translateX(9px)} 60%{transform:translateX(-5px)} 80%{transform:translateX(4px)} }

/* Result */
.result {
  display: none; padding: .8rem 1.2rem; border-radius: var(--r2);
  font-size: clamp(.88rem, 3vw, 1rem); font-weight: 800;
  text-align: center; margin-top: .7rem;
  animation: bounceIn .35s cubic-bezier(.34,1.56,.64,1);
  line-height: 1.45;
}
.result.ok  { display:block; background:#EDFAF4; color:#0A5C3A; border:2px solid rgba(34,201,138,.3); }
.result.err { display:block; background:#FFF0F2; color:#8B1A2E; border:2px solid rgba(240,92,110,.3); }
.result .r-bn { font-family:var(--ff-bangla); font-size:.85em; opacity:.85; display:block; margin-top:.2rem; }

/* ════════════════════════════════════
   QUIZ
════════════════════════════════════ */
.qbar { display:flex; justify-content:space-between; align-items:center; margin-bottom:.75rem; }
.stat { display:flex; align-items:center; gap:.22rem; padding:.28rem .8rem; border-radius:50px; font-family:var(--ff-display); font-size:.88rem; font-weight:600; }
.stat.ok  { background:#EDFAF4; color:#0A5C3A; }
.stat.bad { background:#FFF0F2; color:#8B1A2E; }
.stat.str { background:#FFF8E6; color:#7A4E00; }

.q-track { background:var(--surface2); border-radius:50px; height:9px; overflow:hidden; margin-bottom:.9rem; border:2px solid var(--border); }
.q-fill {
  height:100%; border-radius:50px;
  background:linear-gradient(90deg,var(--pink),var(--purple),var(--teal));
  background-size:200% 100%;
  transition:width .55s cubic-bezier(.4,0,.2,1);
  animation:shimmerSlide 3s linear infinite;
}
.q-label { font-size:.72rem; font-weight:900; color:var(--t3); text-transform:uppercase; letter-spacing:.1em; margin-bottom:.25rem; }

.q-bigL {
  font-family:var(--ff-display); font-weight:700;
  font-size:clamp(6rem,20vw,8rem); line-height:1; display:block;
  margin:.15rem 0 .8rem;
  filter:drop-shadow(0 4px 14px rgba(15,31,61,.12));
  cursor:pointer; transition:transform .22s cubic-bezier(.34,1.56,.64,1);
  animation:floatSway 4s ease-in-out infinite;
}
.q-bigL:hover { transform:scale(1.08) rotate(-4deg); }

.q-opts { display:grid; grid-template-columns:1fr 1fr; gap:.55rem; }
.q-opt {
  padding:1rem .8rem; border-radius:var(--r2);
  border:2px solid var(--border); background:var(--surface2);
  font-family:var(--ff-display); font-weight:600;
  font-size:clamp(.9rem,3vw,1.05rem); cursor:pointer; text-align:center;
  transition:all .22s cubic-bezier(.34,1.56,.64,1);
  -webkit-tap-highlight-color:transparent; user-select:none;
  line-height:1.3;
}
.q-opt:hover { border-color:var(--pink); background:#fff5f8; transform:scale(1.04); box-shadow:0 4px 14px rgba(255,107,157,.18); }
.q-opt .qem { font-size:clamp(2rem,7vw,2.5rem); display:block; margin-bottom:.25rem; }
.q-opt .qen { font-family:var(--ff-display); font-size:clamp(.9rem,3vw,1.05rem); font-weight:700; color:var(--t1); display:block; }
.q-opt .qbn { font-family:var(--ff-bangla); font-size:clamp(.72rem,2.5vw,.85rem); color:var(--t3); display:block; margin-top:.1rem; }
.q-opt.win  { border-color:var(--mint); background:#EDFAF4; }
.q-opt.win .qen { color:#0A5C3A; }
.q-opt.lose { border-color:var(--coral); background:#FFF0F2; }
.q-opt.lose .qen { color:#8B1A2E; }
.q-opt:disabled { cursor:default; }

.q-explain {
  display:none; padding:.65rem 1rem; border-radius:var(--r2);
  background:var(--surface2); border:2px solid var(--border);
  font-size:clamp(.82rem,2.8vw,.95rem); font-weight:700; color:var(--t2);
  margin-top:.65rem; animation:slideUp .28s ease; line-height:1.5;
}
.q-explain.on { display:block; }
.q-explain .qe-bn { font-family:var(--ff-bangla); font-size:.85em; display:block; margin-top:.15rem; color:var(--t3); }
#nxtQ { display:none; margin-top:.7rem; }

/* ════════════════════════════════════
   MATCH GAME
════════════════════════════════════ */
.match-hdr { display:flex; justify-content:space-between; align-items:center; margin-bottom:.75rem; }
.match-grid { display:grid; grid-template-columns:1fr 1fr; gap:.8rem; margin:.5rem 0; align-items:start; }
.match-col  { display:flex; flex-direction:column; gap:.5rem; }

/* ── Both columns: same fixed height, never different ── */
.m-item {
  box-sizing: border-box;
  width: 100%;
  height: 72px;                          /* fixed — same on both columns */
  display: flex; align-items: center; justify-content: center;
  flex-direction: column; gap: 1px;
  padding: .3rem .5rem;
  border-radius: var(--r2);
  border: 2.5px solid var(--border); background: var(--surface2);
  cursor: pointer; user-select: none;
  transition: all .22s cubic-bezier(.34,1.56,.64,1);
  -webkit-tap-highlight-color: transparent;
  overflow: hidden;                      /* never let content push height */
  text-align: center;
}
.m-item:active { transform: scale(.92); }
.m-item:hover  { border-color:var(--pink); background:#fff5f8; transform:scale(1.04); }
.m-item.sel    { border-color:var(--pink); background:var(--pink); color:#fff; transform:scale(1.06); box-shadow:0 4px 16px rgba(255,107,157,.3); }
.m-item.done   { border-color:var(--mint); background:#EDFAF4; cursor:default; box-shadow:0 2px 8px rgba(34,201,138,.2); }
.m-item.wrong  { border-color:var(--coral); background:#FFF0F2; animation:wiggleAnim .35s; }

.m-ltr-col .m-item {
  font-family:var(--ff-display); font-weight:700;
  font-size: clamp(1.8rem,6vw,2.2rem); color:var(--t1);
}
.m-ltr-col .m-item.sel  { color:#fff; }
.m-ltr-col .m-item.done { color:var(--t2); }

/* Word column — content fits inside same 72px height */
.m-word-col .m-item .mi-em { font-size:1.3rem; line-height:1; display:block; }
.m-word-col .m-item .mi-en { font-family:var(--ff-display); font-size:clamp(.7rem,2.3vw,.85rem); font-weight:700; color:var(--t1); line-height:1.2; display:block; }
.m-word-col .m-item .mi-bn { font-family:var(--ff-bangla); font-size:clamp(.6rem,2vw,.72rem); color:var(--t3); line-height:1.2; display:block; }
.m-word-col .m-item.sel .mi-en,
.m-word-col .m-item.sel .mi-bn { color:rgba(255,255,255,.95); }
.m-word-col .m-item.done .mi-en { color:#0A5C3A; }
.m-word-col .m-item.done .mi-bn { color:#0A5C3A; opacity:.7; }

/* XP bar removed */

/* ════════════════════════════════════
   RESPONSIVE
════════════════════════════════════ */
@media(max-width:540px){
  .a-grid { grid-template-columns:repeat(auto-fill,minmax(72px,1fr)); gap:.5rem; }
  .modal { padding:2rem 1.1rem 1.5rem; }
  .q-opts { grid-template-columns:1fr; }
  .card { padding:1.1rem; }
  .match-grid { gap:.5rem; }
  .m-item { height: 68px; }               /* slightly shorter on phones */
  .m-word-col .m-item .mi-em { font-size:1.1rem; }
  .draw-bar { padding:.35rem .55rem; gap:.4rem; }
  .fc-scene { height: 230px; }
  .fc-L { font-size: clamp(4.5rem,18vw,7rem); }
}
@media(max-width:380px){
  .a-grid { grid-template-columns:repeat(auto-fill,minmax(60px,1fr)); gap:.4rem; }
  .tab { padding:.4rem .7rem; font-size:.76rem; }
  .m-item { height: 62px; }
  .m-ltr-col .m-item { font-size: clamp(1.5rem,6vw,1.8rem); }
  .btn { padding:.6rem .9rem; font-size:.82rem; }
}

/* ════════════════════════════════════
   BANGLA SHOW / HIDE SYSTEM
   All Bangla text hidden by default.
   Revealed when body has class "show-bn".
════════════════════════════════════ */

/* Hidden by default */
.wc-bn,
.fc-word-bn,
.qbn,
.mi-bn,
.m-fact-bn,
.r-bn,
.qe-bn,
.th-bn,
.draw-info-word-bn {
  display: none;
}

/* Reveal all when body.show-bn */
body.show-bn .wc-bn,
body.show-bn .fc-word-bn,
body.show-bn .mi-bn,
body.show-bn .m-fact-bn,
body.show-bn .r-bn,
body.show-bn .qe-bn,
body.show-bn .draw-info-word-bn {
  display: block;
  animation: fadeIn .3s ease;
}

/* Inline variants */
body.show-bn .qbn,
body.show-bn .th-bn {
  display: inline-block;
  animation: fadeIn .3s ease;
}

/* ── Toggle button ── */
.bn-toggle-btn {
  display: inline-flex; align-items: center; gap: .35rem;
  padding: .35rem 1.2rem; border-radius: 50px;
  border: 2px solid var(--border); background: var(--surface);
  font-family: var(--ff-bangla), var(--ff-body);
  font-size: .85rem; font-weight: 700;
  color: var(--t2); cursor: pointer;
  transition: all .25s cubic-bezier(.34,1.56,.64,1);
  -webkit-tap-highlight-color: transparent;
  box-shadow: var(--s1);
}
.bn-toggle-btn:hover {
  border-color: var(--pink); color: var(--pink);
  transform: translateY(-2px); box-shadow: var(--s2);
}
.bn-toggle-btn.on {
  background: var(--navy); color: #fff;
  border-color: var(--navy);
  box-shadow: 0 4px 14px rgba(15,31,61,.25);
}

/* ── Star/Light background animations ── */
@keyframes starRise {
  0%   { transform: translateY(0) rotate(0deg) scale(0.7); opacity: 0; }
  5%   { opacity: 0.25; transform: scale(1); }
  90%  { opacity: 0.18; }
  100% { transform: translateY(-115vh) rotate(360deg) scale(0.5); opacity: 0; }
}
@keyframes twinkleAnim {
  0%,100% { opacity: 0; transform: scale(0.6) rotate(0deg); }
  50%      { opacity: 0.5; transform: scale(1.2) rotate(20deg); }
}

/* ── Word chip tap hint ── */
.wc-tap {
  font-size: .58rem; color: var(--t3); font-weight: 700;
  text-transform: uppercase; letter-spacing: .06em;
  margin-top: .1rem;
}