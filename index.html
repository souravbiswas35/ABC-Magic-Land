<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="theme-color" content="#0F1F3D">
<title>ğŸŒˆ ABC Magic Land</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<!-- â”€â”€ Animated background â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="bg-mesh" id="bgMesh"></div>

<!-- XP bar removed -->

<!-- â”€â”€ App shell â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="app">

  <!-- Header -->
  <!-- Dark / Light mode toggle -->
  <button class="theme-toggle" id="themeToggle" onclick="toggleTheme()" title="Toggle dark/light mode">ğŸŒ™</button>

  <header class="header">
    <div class="logo">
      <span class="logo-emoji">ğŸŒˆ</span>
      <span class="logo-text">ABC Magic Land</span>
    </div>
    <h1 class="header-title">Learn Your ABCs!</h1>
    <p class="header-sub">Explore Â· Listen Â· Draw Â· Play</p>

    <!-- Bangla toggle â€” hidden by default, tap to reveal -->
    <div class="lang-row" style="margin-bottom:.5rem">
      <button class="bn-toggle-btn" id="bnToggleBtn" onclick="toggleBangla()">
        ğŸ‡§ğŸ‡© à¦¬à¦¾à¦‚à¦²à¦¾ à¦¦à§‡à¦–à¦¾à¦“
      </button>
    </div>

    <!-- Voice selector -->
    <div class="voice-row">
      <span class="v-label">ğŸ™ Voice</span>
      <button class="v-btn on" id="vb0" onclick="setVoice(0)">ğŸŒ¸ Sweetie</button>
      <button class="v-btn"    id="vb1" onclick="setVoice(1)">ğŸ¦‹ Bubbly</button>
      <button class="v-btn"    id="vb2" onclick="setVoice(2)">ğŸ» Teddy</button>
    </div>
  </header>

  <!-- Navigation -->
  <nav class="nav">
    <button class="tab on" data-s="explore"   onclick="goTo('explore')"  ><span class="ti">ğŸ”¤</span> Alphabet</button>
    <button class="tab"    data-s="flash"     onclick="goTo('flash')"    ><span class="ti">ğŸƒ</span> Cards</button>
    <button class="tab"    data-s="draw"      onclick="goTo('draw')"     ><span class="ti">âœï¸</span> Draw</button>
    <button class="tab"    data-s="type"      onclick="goTo('type')"     ><span class="ti">âŒ¨ï¸</span> Type</button>
    <button class="tab"    data-s="quiz"      onclick="goTo('quiz')"     ><span class="ti">ğŸ¯</span> Quiz</button>
    <button class="tab"    data-s="match"     onclick="goTo('match')"    ><span class="ti">ğŸ§©</span> Match</button>
  </nav>

  <!-- â•â•â•â•â•â•â•â•â•â• EXPLORE â•â•â•â•â•â•â•â•â•â• -->
  <section id="explore" class="sec on">
    <p class="sec-title">Tap any letter to <span class="hi">learn &amp; hear it!</span> ğŸ”Š</p>
    <div class="a-grid" id="aGrid"></div>
  </section>

  <!-- â•â•â•â•â•â•â•â•â•â• FLASHCARD â•â•â•â•â•â•â•â•â•â• -->
  <section id="flash" class="sec">
    <p class="sec-title">Flip the card to <span class="hi">see the word!</span> ğŸƒ</p>
    <div class="card-sm">

      <div class="fc-scene" id="fcScene" onclick="flipCard()">
        <div class="fc-inner">
          <!-- Front -->
          <div class="fc-face fc-front">
            <div class="fc-L" id="fcL">A</div>
            <div class="fc-lo" id="fcLo">a</div>
            <div class="fc-hint">Tap to reveal the word âœ¨</div>
          </div>
          <!-- Back â€” gradient set per letter in JS -->
          <div class="fc-face fc-back" id="fcBack">
            <div class="fc-emoji" id="fcEm">ğŸ</div>
            <div class="fc-word"  id="fcWen">Apple</div>
            <div class="fc-word-bn bn-text" id="fcWbn">à¦†à¦ªà§‡à¦²</div>
            <div class="fc-phon"  id="fcPh">/eÉª/</div>
          </div>
        </div>
      </div>

      <div class="fc-nav" style="margin-bottom:.8rem">
        <button class="arr" onclick="flashNav(-1)">â€¹</button>
        <div class="fc-count" id="fcCnt">1 of 26</div>
        <button class="arr" onclick="flashNav(1)">â€º</button>
      </div>

      <div class="btn-row" style="justify-content:center">
        <button class="btn btn-navy" style="flex:0;padding:.6rem 1.5rem" onclick="speakFlashLetter()">ğŸ”Š Letter</button>
        <button class="btn btn-amber" style="flex:0;padding:.6rem 1.5rem" onclick="speakFlashWord()">ğŸ—£ Word</button>
      </div>
    </div>
  </section>

  <!-- â•â•â•â•â•â•â•â•â•â• DRAW â•â•â•â•â•â•â•â•â•â• -->
  <section id="draw" class="sec">
    <div class="card-center card">
      <!-- Letter nav -->
      <div class="lnav">
        <button class="arr" onclick="drawChange(-1)">â€¹</button>
        <div class="lnav-info">
          <span class="lnav-big" id="dNavBig">A</span>
          <span class="lnav-count" id="dNavCnt">1 of 26</span>
        </div>
        <button class="arr" onclick="drawChange(1)">â€º</button>
      </div>

      <!-- Info strip -->
      <div class="draw-header">
        <div class="draw-letter-preview" id="dLetPrev">A / a</div>
        <div style="width:1.5px;height:40px;background:var(--border);flex-shrink:0"></div>
        <div class="draw-info">
          <span class="draw-info-label">Example Word</span>
          <span class="draw-info-word" id="dWordEn">ğŸ Apple</span>
          <span class="draw-info-word-bn bn-text" id="dWordBn">à¦†à¦ªà§‡à¦²</span>
        </div>
      </div>

      <!-- Tip -->
      <div class="draw-tip" id="dTip" style="display:flex;align-items:center;gap:.5rem;background:var(--surface2);border-radius:50px;padding:.4rem .95rem;border:2px solid var(--border);margin-bottom:.65rem;font-size:.76rem;font-weight:700;color:var(--t2)">
        ğŸ’¡ Trace the ghost <b>A</b> â€” follow its shape!
      </div>

      <!-- Toolbar -->
      <div class="draw-bar">
        <span class="bar-lbl">Color</span>
        <div class="cswatch on" style="background:#1E6FD9"  onclick="drawSetColor('#1E6FD9',this)"></div>
        <div class="cswatch"    style="background:#FF6B9D"  onclick="drawSetColor('#FF6B9D',this)"></div>
        <div class="cswatch"    style="background:#43E97B"  onclick="drawSetColor('#43E97B',this)"></div>
        <div class="cswatch"    style="background:#FFB347"  onclick="drawSetColor('#FFB347',this)"></div>
        <div class="cswatch"    style="background:#A18CD1"  onclick="drawSetColor('#A18CD1',this)"></div>
        <div class="cswatch"    style="background:#0F1F3D"  onclick="drawSetColor('#0F1F3D',this)"></div>
        <div class="bar-sep"></div>
        <span class="bar-lbl">Size</span>
        <div class="bdot on"  style="width:12px;height:12px" onclick="drawSetBrush(5,this)"></div>
        <div class="bdot"     style="width:18px;height:18px" onclick="drawSetBrush(11,this)"></div>
        <div class="bdot"     style="width:26px;height:26px" onclick="drawSetBrush(18,this)"></div>
        <div class="bar-sep"></div>
        <button class="btn btn-ghost" style="flex:0;min-width:0;padding:.3rem .85rem;font-size:.75rem;border-radius:50px" onclick="drawClear()">ğŸ—‘ Clear</button>
        <button class="btn btn-navy"  style="flex:0;min-width:0;padding:.3rem .85rem;font-size:.75rem;border-radius:50px" onclick="drawSpeak()">ğŸ”Š</button>
      </div>

      <!-- Canvas area -->
      <div class="canvas-wrap" id="canvasWrap">
        <div class="ghost" id="ghost">A</div>
        <canvas id="cvs"></canvas>
      </div>

      <!-- Auto encouragement (no check button!) -->
      <div class="draw-enc" id="drawEnc">Start drawing above! âœï¸</div>
    </div>
  </section>

  <!-- â•â•â•â•â•â•â•â•â•â• TYPE â•â•â•â•â•â•â•â•â•â• -->
  <section id="type" class="sec">
    <div class="card-center card">
      <div class="lnav">
        <button class="arr" onclick="changeType(-1)">â€¹</button>
        <div class="lnav-info">
          <span class="lnav-big" id="typeNavBig">A</span>
          <span class="lnav-count" id="typeNavCnt">1 of 26</span>
        </div>
        <button class="arr" onclick="changeType(1)">â€º</button>
      </div>

      <div style="text-align:center">
        <span class="type-target" id="typeBigL">A a</span>
        <div class="type-subtitle">Type uppercase then lowercase</div>
        <div class="type-hint">
          <span id="typeHintEm">ğŸ</span>
          <span id="typeHintEn">Apple</span>
          <span class="th-bn bn-text" id="typeHintBn">à¦†à¦ªà§‡à¦²</span>
        </div>
      </div>

      <div class="char-row" id="charRow"></div>

      <input class="type-input" id="typeInp" type="text"
        placeholder="Type hereâ€¦" maxlength="14"
        autocomplete="off" autocorrect="off" autocapitalize="off"
        spellcheck="false" inputmode="text"
        oninput="onTypeInput()">

      <div class="result" id="typeRes"></div>

      <div class="btn-row" style="margin-top:1rem">
        <button class="btn btn-ghost" onclick="clearType()">ğŸ—‘ Clear</button>
        <button class="btn btn-navy"  onclick="speakTypeLetter()">ğŸ”Š Hear</button>
        <button class="btn btn-amber" onclick="speakTypeWord()">ğŸ—£ Word</button>
      </div>
    </div>
  </section>

  <!-- â•â•â•â•â•â•â•â•â•â• QUIZ â•â•â•â•â•â•â•â•â•â• -->
  <section id="quiz" class="sec">
    <div class="card-sm card">
      <div class="qbar">
        <div class="stat ok">âœ… <span id="qC">0</span></div>
        <div class="stat str">ğŸ”¥ <span id="qStr">0</span></div>
        <div class="stat bad">âŒ <span id="qW">0</span></div>
      </div>
      <div class="q-track"><div class="q-fill" id="qFill" style="width:0%"></div></div>
      <div class="q-label" id="qLabel">Which word starts with this letter?</div>
      <span class="q-bigL" id="qBigL" onclick="speakQzLetter()">A</span>
      <div class="q-opts" id="qOpts"></div>
      <div class="q-explain" id="qExpl"></div>
      <button class="btn btn-navy" id="nxtQ" onclick="nextQ()">Next Question â†’</button>
    </div>
  </section>

  <!-- â•â•â•â•â•â•â•â•â•â• MATCH â•â•â•â•â•â•â•â•â•â• -->
  <section id="match" class="sec">
    <div class="card-center card">
      <p class="sec-title" style="margin-bottom:.4rem">Match letter to <span class="hi">picture!</span> ğŸ§©</p>
      <div class="match-hdr">
        <div class="stat ok" id="mScoreEl">Score: 0</div>
        <button class="btn btn-navy" style="flex:0;padding:.45rem 1.1rem;font-size:.82rem" onclick="initMatch()">ğŸ”€ New Round</button>
      </div>
      <div class="match-grid">
        <div class="match-col m-ltr-col" id="mLCol"></div>
        <div class="match-col m-word-col" id="mWCol"></div>
      </div>
      <div class="result" id="matchRes"></div>
    </div>
  </section>

</div><!-- /app -->

<!-- â•â•â•â•â•â•â•â•â•â• MODAL â•â•â•â•â•â•â•â•â•â• -->
<div class="overlay" id="modalOverlay" onclick="onOverlayClick(event)">
  <div class="modal">
    <button class="m-close" onclick="closeModal()">âœ•</button>
    <div class="m-hero" id="mHero" onclick="speakModalLetter()">A</div>
    <div class="m-cases" id="mCases">A &nbsp; a</div>
    <div class="m-phon" id="mPhon">ğŸ”‰ /eÉª/</div>
    <button class="speak-btn" id="mSpkBtn" onclick="speakModalLetter()">
      <div class="swave" id="mWave"><i></i><i></i><i></i><i></i><i></i></div>
      <span id="mSpkTxt">ğŸ”Š Hear the Letter</span>
    </button>
    <div class="wlabel">Example Words &amp; Meanings</div>
    <div class="word-chips" id="mChips"></div>
    <div class="m-fact">
      ğŸ’¡ <span id="mFact">â€¦</span>
      <span class="m-fact-bn bn-text" id="mFactBn">â€¦</span>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â• SCRIPTS â€” ORDER MATTERS â•â•â•â•â•â•â•â•â•â• -->
<script src="data.js"></script>
<script src="animations.js"></script>
<script src="voice.js"></script>
<script src="app.js"></script>
<script src="draw.js"></script>
<script src="games.js"></script>

</body>
</html>